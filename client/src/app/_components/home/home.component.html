<section class="box home-container">
  <div class="home-title">
    Comienza buscando tu profesor
  </div>
  <div class="type-of-search">
    <mat-radio-group #SearchType aria-labelledby="example-radio-group-label" class="radio-group" [(ngModel)]="typeOfSearch">
      <mat-radio-button class="radio-button" [value]="'P'">
        Por Profesor
      </mat-radio-button>
      <mat-radio-button class="radio-button" [value]="'C'">
        Por Campus
      </mat-radio-button>
    </mat-radio-group>
  </div>
  <div class="search-container">
    <!-- CAMPO DE BUSQUEDA -->
    <mat-form-field class="search-form-field">
      <mat-label>{{typeOfSearch == "P" ? "Buscar Profesor" : "Buscar Campus"}}</mat-label>
      <input matInput
        #SearchVal
        type="search"
        [(ngModel)]="searchValue"
        autocomplete="off"
        (keyup)="onSearch(SearchVal.value)"
        (focus)="changeShowOptions(true)"
      >
      <button  class="close-options-btn" matSuffix mat-icon-button aria-label="Clear" (click)="clearSearchValue()">
        <mat-icon>close</mat-icon>
      </button>
      <!--SEARCH BTN -->
      <div class="search-btn">
        <button mat-raised-button color="primary">Buscar</button>
      </div>
    </mat-form-field>
    <!-- CONTENEDOR DE OPCIONES -->
    <div class="search-options-container" *ngIf="searchValue!='' && showOptions && (options | async ) as opts">
      <div class="search-options-box" *ngFor="let item of opts; index as i">
        <mat-icon class="hide-options-btn" *ngIf="i == 0" (click)="showOptions = false">expand_less</mat-icon>
        <div class="option-item" (click)="onSelectedOption(item[0])">
          <div class="children-option">{{item[0].value}}</div>
          <div class="parent-option">{{item[1].value}}</div>
        </div>
      </div>
    </div>
  </div>
</section>
